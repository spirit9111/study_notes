# python_进程_线程_协程_区别 #

----------

## 进程: ##

系统进行资源分配的独立单位

占用独立的运行空间

进程间不共享资源,通讯依靠队列和栈

切换时消耗最大,效率最低

运行的消耗多余线程,便于管理

运行稳定能发挥充分多核cpu的性能

进程不会相互干扰


## 线程: ##

操作系统调度的单位

占用空间小于进程,

同一个[进程]中的[线程]共享全部资源

线程不能独立存在,依存于进程

切换时消耗资源中等,效率中等

运行消耗小,不容易管理和保护

因为共享资源如果需要对资源进行修改,必须互斥锁来保证修改结果不会出错,导致效率降低

同一个进程内的某个线程崩溃会导致整个进程崩溃

## 协程(又称微线程): ##

占用的执行单元最小

协程不能独立存在,依存于线程

切换时消耗资源最小,效率最高

使用过程繁琐,不易维护.


程序-->(至少一个)进程-->(至少一个)线程


多核cpu性能问题:

利用`多进程+协程`模式，既充分利用多核，又充分发挥协程的高效率，可获得极
高的性能。 

### 类比 ###

进程 好似 生产线,多条生产线就是多进程

线程 好似 生产线上的工人,多个工人就是多线程

协程 好似 把生产线上闲置的,等待上游运算结果才能开始工作的工人,利用等待时间,安排去做其他事情,来提高效率