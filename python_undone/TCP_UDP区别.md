# UDP/TCP区别 #

----------


## udp:面向`数据包`(SOCK_DGRAM) ##
不安全,不稳定.

不需要提前连接,类似(广播,不需要拨号)

数据传输后,[接收方]不会返回数据给[发送方],(收没收到不知道,无应答)

数据整块发送,超过接受范围后的数据丢失.

速度快

不区分,客户端,服务器

流程:

1.创建socket(接收方需要绑定(bind)PORT)

2.收/发数据(sendto(内容,地址),recvfrom(1024))

3.关闭socket


## tcp:面向`数据流`(SOCK_STREAM) ##

稳定,安全.

需要提前连接,一对一,(电话,需要拨号)

数据传输后,[接收方]会返回数据给[发送方],(收到消息会有应答)

数据顺序发送,每一块都有标 

超时重传,重发丢失的数据

错误校验,确认数据送达,删除重复数据

控制流量速度,保证接收方来得及接收,稳定

严格区分,客户端,服务器

流程:

### 客户端(client) ###

1.创建socket

2.链接服务器(connect)

3.收/发数据(send(内容),recv(1024))

4.关闭socket

### 服务器(server) ###

1.创建socket

2.绑定(bind)IP,PORT

3.listen(128)把socket变为被动链接,监听套接字

4.accept等待链接(返回值为元组(新socket,地址))

5.收/发数据(send,recv)

### 关闭问题相关: ###

关闭listen:

不能链接新的client,在线的clinet不会掉线

关闭accept:

服务器关闭